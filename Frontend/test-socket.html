<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Socket Test</title>
</head>

<body>
    <h3>Socket test</h3>

    <script src="http://localhost:8000/socket.io/socket.io.js"></script>
    <script>
        const socket = io("http://localhost:8000");

        socket.on("connect", () => {
            console.log("connected:", socket.id);

            // test join
            socket.emit("join_parcel", { parcelId: "TEST123" });

            // simulate agent location update
            socket.emit("agent_location", { parcelId: "TEST123", lat: 23.81, lng: 90.41 });
        });

        socket.on("location_update", (data) => {
            console.log("location_update:", data);
        });
    </script>
</body>

</html>